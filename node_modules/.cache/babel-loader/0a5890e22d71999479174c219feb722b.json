{"ast":null,"code":"var _jsxFileName = \"D:\\\\Shoaib\\\\react-chat\\\\src\\\\components\\\\Sidebar\\\\Sidebar.jsx\";\nimport React from 'react';\nimport \"./Sidebar.css\";\nimport NavBar from '../NavBar/NavBar';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Sidebar(_ref) {\n  let {\n    userId,\n    conversations,\n    setReceiverId,\n    setConversationId,\n    setMessages\n  } = _ref;\n\n  //get all the messages\n  async function fetchMessages(conversationId) {\n    try {\n      await axios.get(`http://locl/messages/${conversationId}`).then(res => {\n        console.log(res.data.messages);\n        setMessages(res.data.messages);\n      }).catch(err => {\n        console.log(err);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home__sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), conversations.map(conversation => {\n      var _conversation$members;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contact__container\",\n        onClick: e => {\n          setConversationId(conversation._id);\n          setReceiverId(conversation.members.find(member => member !== userId));\n          fetchMessages(conversation._id);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__details\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: ((_conversation$members = conversation.members.find(member => member.id !== userId)) === null || _conversation$members === void 0 ? void 0 : _conversation$members.profilePicture) || \"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-unknown-social-media-user-photo-default-avatar-profile-icon-vector-unknown-social-media-user-184816085.jpg\",\n            alt: \"profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"name__and__status__container\",\n            children: conversation.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }, this)\n      }, conversation._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 22\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Sidebar;\nexport default Sidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","NavBar","axios","Sidebar","userId","conversations","setReceiverId","setConversationId","setMessages","fetchMessages","conversationId","get","then","res","console","log","data","messages","catch","err","map","conversation","e","_id","members","find","member","id","profilePicture","name"],"sources":["D:/Shoaib/react-chat/src/components/Sidebar/Sidebar.jsx"],"sourcesContent":["import React from 'react'\r\nimport \"./Sidebar.css\";\r\nimport NavBar from '../NavBar/NavBar';\r\nimport axios from 'axios';\r\n\r\nfunction Sidebar({ userId, conversations, setReceiverId, setConversationId, setMessages }) {\r\n\r\n   //get all the messages\r\n  async function fetchMessages(conversationId) {\r\n    try {\r\n      await axios.get(`http://locl/messages/${conversationId}`).then(res => {\r\n        console.log(res.data.messages);\r\n        setMessages(res.data.messages);\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n  return (\r\n    <div className='home__sidebar'>\r\n      <NavBar/>\r\n          {\r\n            conversations.map((conversation) => {\r\n              return <div className='contact__container' key={conversation._id} onClick={(e) => {\r\n      \r\n                setConversationId(conversation._id)\r\n                setReceiverId(conversation.members.find(member => member !== userId));\r\n                fetchMessages(conversation._id);\r\n              }}>\r\n                <div className='profile__details'>\r\n                <img src={conversation.members.find(member => member.id !== userId)?.profilePicture || \"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-unknown-social-media-user-photo-default-avatar-profile-icon-vector-unknown-social-media-user-184816085.jpg\"} alt=\"profile\"/>\r\n                <h3 className='name__and__status__container'>{conversation.name}</h3>\r\n                </div>\r\n                </div>\r\n            })\r\n      \r\n          }\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,OAAT,OAA2F;EAAA,IAA1E;IAAEC,MAAF;IAAUC,aAAV;IAAyBC,aAAzB;IAAwCC,iBAAxC;IAA2DC;EAA3D,CAA0E;;EAExF;EACD,eAAeC,aAAf,CAA6BC,cAA7B,EAA6C;IAC3C,IAAI;MACF,MAAMR,KAAK,CAACS,GAAN,CAAW,wBAAuBD,cAAe,EAAjD,EAAoDE,IAApD,CAAyDC,GAAG,IAAI;QACpEC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,QAArB;QACAT,WAAW,CAACK,GAAG,CAACG,IAAJ,CAASC,QAAV,CAAX;MACD,CAHK,EAGHC,KAHG,CAGIC,GAAD,IAAS;QAChBL,OAAO,CAACC,GAAR,CAAYI,GAAZ;MACD,CALK,CAAN;IAMD,CAPD,CAOE,OAAOA,GAAP,EAAY;MACZL,OAAO,CAACC,GAAR,CAAYI,GAAZ;IACD;EACF;;EACD,oBACE;IAAK,SAAS,EAAC,eAAf;IAAA,wBACE,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADF,EAGQd,aAAa,CAACe,GAAd,CAAmBC,YAAD,IAAkB;MAAA;;MAClC,oBAAO;QAAK,SAAS,EAAC,oBAAf;QAA2D,OAAO,EAAGC,CAAD,IAAO;UAEhFf,iBAAiB,CAACc,YAAY,CAACE,GAAd,CAAjB;UACAjB,aAAa,CAACe,YAAY,CAACG,OAAb,CAAqBC,IAArB,CAA0BC,MAAM,IAAIA,MAAM,KAAKtB,MAA/C,CAAD,CAAb;UACAK,aAAa,CAACY,YAAY,CAACE,GAAd,CAAb;QACD,CALM;QAAA,uBAML;UAAK,SAAS,EAAC,kBAAf;UAAA,wBACA;YAAK,GAAG,EAAE,0BAAAF,YAAY,CAACG,OAAb,CAAqBC,IAArB,CAA0BC,MAAM,IAAIA,MAAM,CAACC,EAAP,KAAcvB,MAAlD,iFAA2DwB,cAA3D,KAA6E,+KAAvF;YAAwQ,GAAG,EAAC;UAA5Q;YAAA;YAAA;YAAA;UAAA,QADA,eAEA;YAAI,SAAS,EAAC,8BAAd;YAAA,UAA8CP,YAAY,CAACQ;UAA3D;YAAA;YAAA;YAAA;UAAA,QAFA;QAAA;UAAA;UAAA;UAAA;QAAA;MANK,GAAyCR,YAAY,CAACE,GAAtD;QAAA;QAAA;QAAA;MAAA,QAAP;IAWD,CAZD,CAHR;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD;;KApCQpB,O;AAsCT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}